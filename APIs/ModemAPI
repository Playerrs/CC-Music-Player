-- By Player_rs
-- License MIT
-- V 0.2

local api = {}

---@function Wrap and open channel on monitor
---@param channel number
---@param side string
function api.startModem(channel, side)
    local modem
    if side then
        modem = peripheral.wrap(side)
    else
        modem = peripheral.find("modem")
    end
    modem.open(channel)
    return modem
end

---@param channel number
---@param rChannel number
---@param message any
function api.transmit(modem, channel, rChannel, message)
    return modem.transmit(channel, rChannel, message)
end

function api.receive()
    local e, p, channel, rChannel, message, distance = os.pullEvent("modem_message")
    if not message then
        api.self:receive()
    end
    return channel, message
end

return api